!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.hopscotch=e()}(this,function(){"use strict";var t,e,s,i,r,n,o,a,u,c,d,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l="bubble_default",p=window.Sizzle||null,m="undefined",f=!1,g=("undefined"==typeof jQuery?"undefined":h(jQuery))!==m,v=!1,y=!1,b=/^[a-zA-Z]+[a-zA-Z0-9_-]*$/,w={left:"right",right:"left"};try{h(window.sessionStorage)!==m&&(v=!0,sessionStorage.setItem("hopscotch.test.storage","ok"),sessionStorage.removeItem("hopscotch.test.storage"),y=!0)}catch(t){}return c={smoothScroll:!0,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:!0,showPrevButton:!1,showNextButton:!0,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:!0,isRtl:!1,cookieName:"hopscotch.tour.state"},Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),(o={addClass:function(t,e){var s,i,r,n;if(t.className){for(i=e.split(/\s+/),s=" "+t.className+" ",r=0,n=i.length;n>r;++r)s.indexOf(" "+i[r]+" ")<0&&(s+=i[r]+" ");t.className=s.replace(/^\s+|\s+$/g,"")}else t.className=e},removeClass:function(t,e){var s,i,r,n;for(i=e.split(/\s+/),s=" "+t.className+" ",r=0,n=i.length;n>r;++r)s=s.replace(" "+i[r]+" "," ");t.className=s.replace(/^\s+|\s+$/g,"")},hasClass:function(t,e){return!!t.className&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},getPixelValue:function(t){var e="undefined"==typeof t?"undefined":h(t);return"number"===e?t:"string"===e?parseInt(t,10):0},valOrDefault:function(t,e){return("undefined"==typeof t?"undefined":h(t))!==m?t:e},invokeCallbackArrayHelper:function(t){var e;return Array.isArray(t)&&"function"==typeof(e=u[t[0]])?e.apply(this,t.slice(1)):void 0},invokeCallbackArray:function(t){var e,s;if(Array.isArray(t)){if("string"==typeof t[0])return o.invokeCallbackArrayHelper(t);for(e=0,s=t.length;s>e;++e)o.invokeCallback(t[e])}},invokeCallback:function(t){return"function"==typeof t?t():"string"==typeof t&&u[t]?u[t]():o.invokeCallbackArray(t)},invokeEventCallbacks:function(t,e){var s,i,r=a[t];if(e)return this.invokeCallback(e);for(s=0,i=r.length;i>s;++s)this.invokeCallback(r[s].cb)},getScrollTop:function(){return h(window.pageYOffset)!==m?window.pageYOffset:document.documentElement.scrollTop},getScrollLeft:function(){return h(window.pageXOffset)!==m?window.pageXOffset:document.documentElement.scrollLeft},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight},addEvtListener:function(t,e,s){return t?t.addEventListener?t.addEventListener(e,s,!1):t.attachEvent("on"+e,s):void 0},removeEvtListener:function(t,e,s){return t?t.removeEventListener?t.removeEventListener(e,s,!1):t.detachEvent("on"+e,s):void 0},documentIsReady:function(){return"complete"===document.readyState},evtPreventDefault:function(t){t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)},extend:function(t,e){var s;for(s in e)e.hasOwnProperty(s)&&(t[s]=e[s])},getStepTargetHelper:function(t){var e=document.getElementById(t);if(e)return e;if(g)return(e=jQuery(t)).length?e[0]:null;if(p)return(e=new p(t)).length?e[0]:null;if(document.querySelector)try{return document.querySelector(t)}catch(t){}return/^#[a-zA-Z][\w-_:.]*$/.test(t)?document.getElementById(t.substring(1)):null},getStepTarget:function(t){var e;if(!t||!t.target)return null;if("string"==typeof t.target)return o.getStepTargetHelper(t.target);if(Array.isArray(t.target)){var s,i;for(s=0,i=t.target.length;i>s;s++)if("string"==typeof t.target[s]&&(e=o.getStepTargetHelper(t.target[s])))return e;return null}return t.target},getI18NString:function(t){return i[t]||s[t]},setState:function(t,e,s){var i,r="";if(v&&y)try{sessionStorage.setItem(t,e)}catch(i){y=!1,this.setState(t,e,s)}else v&&sessionStorage.removeItem(t),s&&((i=new Date).setTime(i.getTime()+24*s*60*60*1e3),r="; expires="+i.toGMTString()),document.cookie=t+"="+e+r+"; path=/"},getState:function(t){var e,s,i,r=t+"=",n=document.cookie.split(";");if(v&&(i=sessionStorage.getItem(t)))return i;for(e=0;e<n.length;e++){for(s=n[e];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(r)){i=s.substring(r.length,s.length);break}}return i},clearState:function(t){v?sessionStorage.removeItem(t):this.setState(t,"",-1)},normalizePlacement:function(t){!t.placement&&t.orientation&&(t.placement=t.orientation)},flipPlacement:function(t){if(t.isRtl&&!t._isFlipped){var e,s,i=["orientation","placement"];for(s in t.xOffset&&(t.xOffset=-1*this.getPixelValue(t.xOffset)),i)t.hasOwnProperty(e=i[s])&&w.hasOwnProperty(t[e])&&(t[e]=w[t[e]]);t._isFlipped=!0}}}).addEvtListener(window,"load",function(){f&&d.startTour()}),a={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]},u={},s={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"},i={},(t=function(t){this.init(t)}).prototype={isShowing:!1,currStep:void 0,setPosition:function(t){var e,s,i,r,n,a,u,c=o.getStepTarget(t),d=this.element,h=this.arrowEl,l=t.isRtl?"right":"left";if(o.flipPlacement(t),o.normalizePlacement(t),s=d.offsetWidth,e=d.offsetHeight,o.removeClass(d,"fade-in-down fade-in-up fade-in-left fade-in-right"),i=c.getBoundingClientRect(),u=t.isRtl?i.right-s:i.left,"top"===t.placement)r=i.top-e-this.opt.arrowWidth,n=u;else if("bottom"===t.placement)r=i.bottom+this.opt.arrowWidth,n=u;else if("left"===t.placement)r=i.top,n=i.left-s-this.opt.arrowWidth;else{if("right"!==t.placement)throw new Error("Bubble placement failed because step.placement is invalid or undefined!");r=i.top,n=i.right+this.opt.arrowWidth}(a="center"!==t.arrowOffset?o.getPixelValue(t.arrowOffset):t.arrowOffset)?"top"===t.placement||"bottom"===t.placement?(h.style.top="",h.style[l]="center"===a?Math.floor(s/2-h.offsetWidth/2)+"px":a+"px"):("left"===t.placement||"right"===t.placement)&&(h.style[l]="",h.style.top="center"===a?Math.floor(e/2-h.offsetHeight/2)+"px":a+"px"):(h.style.top="",h.style[l]=""),"center"===t.xOffset?n=i.left+c.offsetWidth/2-s/2:n+=o.getPixelValue(t.xOffset),"center"===t.yOffset?r=i.top+c.offsetHeight/2-e/2:r+=o.getPixelValue(t.yOffset),t.fixedElement||(r+=o.getScrollTop(),n+=o.getScrollLeft()),d.style.position=t.fixedElement?"fixed":"absolute",d.style.top=r+"px",d.style.left=n+"px"},render:function(t,e,s){var i,n,a,u,c,h,p,m,f,g,v=this.element;if(t?this.currStep=t:this.currStep&&(t=this.currStep),this.opt.isTourBubble?(u=d.getCurrTour())&&(n=u.customData,i=u.customRenderer,t.isRtl=t.hasOwnProperty("isRtl")?t.isRtl:u.hasOwnProperty("isRtl")?u.isRtl:this.opt.isRtl,a=u.unsafe,Array.isArray(u.steps)&&(h=this._getStepI18nNum(this._getStepNum((c=u.steps.length)-1)),m=this._getStepNum(e)===this._getStepNum(c-1))):(n=t.customData,i=t.customRenderer,a=t.unsafe,t.isRtl=t.hasOwnProperty("isRtl")?t.isRtl:this.opt.isRtl),p=o.getI18NString(m?"doneBtn":t.showSkip?"skipBtn":"nextBtn"),o.flipPlacement(t),o.normalizePlacement(t),this.placement=t.placement,g={i18n:{prevBtn:o.getI18NString("prevBtn"),nextBtn:p,closeTooltip:o.getI18NString("closeTooltip"),stepNum:this._getStepI18nNum(this._getStepNum(e)),numSteps:h},buttons:{showPrev:o.valOrDefault(t.showPrevButton,this.opt.showPrevButton)&&this._getStepNum(e)>0,showNext:o.valOrDefault(t.showNextButton,this.opt.showNextButton),showCTA:o.valOrDefault(t.showCTAButton&&t.ctaLabel,!1),ctaLabel:t.ctaLabel,showClose:o.valOrDefault(this.opt.showCloseButton,!0)},step:{num:e,isLast:o.valOrDefault(m,!1),title:t.title||"",content:t.content||"",isRtl:t.isRtl,placement:t.placement,padding:o.valOrDefault(t.padding,this.opt.bubblePadding),width:o.getPixelValue(t.width)||this.opt.bubbleWidth,customData:t.customData||{}},tour:{isTour:this.opt.isTourBubble,numSteps:c,unsafe:o.valOrDefault(a,!1),customData:n||{}}},"function"==typeof i)v.innerHTML=i(g);else if("string"==typeof i){if(!d.templates||"function"!=typeof d.templates[i])throw new Error('Bubble rendering failed - template "'+i+'" is not a function.');v.innerHTML=d.templates[i](g)}else if(r)v.innerHTML=r(g);else{if(!d.templates||"function"!=typeof d.templates[l])throw new Error('Bubble rendering failed - template "'+l+'" is not a function.');v.innerHTML=d.templates[l](g)}var y,b=v.children,w=b.length;for(f=0;w>f;f++)o.hasClass(y=b[f],"hopscotch-arrow")&&(this.arrowEl=y);return v.style.zIndex="number"==typeof t.zindex?t.zindex:"",this._setArrow(t.placement),this.hide(!1),this.setPosition(t),s&&s(!t.fixedElement),this},_getStepNum:function(t){var e,s=0,i=d.getSkippedStepsIndexes(),r=i.length;for(e=0;r>e;e++)t>i[e]&&s++;return t-s},_getStepI18nNum:function(t){var e=o.getI18NString("stepNums");return e&&t<e.length?t=e[t]:t+=1,t},_setArrow:function(t){o.removeClass(this.arrowEl,"down up right left"),"top"===t?o.addClass(this.arrowEl,"down"):"bottom"===t?o.addClass(this.arrowEl,"up"):"left"===t?o.addClass(this.arrowEl,"right"):"right"===t&&o.addClass(this.arrowEl,"left")},_getArrowDirection:function(){return"top"===this.placement?"down":"bottom"===this.placement?"up":"left"===this.placement?"right":"right"===this.placement?"left":void 0},show:function(){var t=this,e="fade-in-"+this._getArrowDirection();return o.removeClass(this.element,"hide"),o.addClass(this.element,e),setTimeout(function(){o.removeClass(t.element,"invisible")},50),setTimeout(function(){o.removeClass(t.element,e)},1e3),this.isShowing=!0,this},hide:function(t){var e=this.element;return t=o.valOrDefault(t,!0),e.style.top="",e.style.left="",t?(o.addClass(e,"hide"),o.removeClass(e,"invisible")):(o.removeClass(e,"hide"),o.addClass(e,"invisible")),o.removeClass(e,"animate fade-in-up fade-in-down fade-in-right fade-in-left"),this.isShowing=!1,this},destroy:function(){var t=this.element;t&&t.parentNode.removeChild(t),o.removeEvtListener(t,"click",this.clickCb)},_handleBubbleClick:function(t){var e;if("cta"===(e=function e(s){return s===t.currentTarget?null:o.hasClass(s,"hopscotch-cta")?"cta":o.hasClass(s,"hopscotch-next")?"next":o.hasClass(s,"hopscotch-prev")?"prev":o.hasClass(s,"hopscotch-close")?"close":e(s.parentElement)}((t=t||window.event).target||t.srcElement)))this.opt.isTourBubble||d.getCalloutManager().removeCallout(this.currStep.id),this.currStep.onCTA&&o.invokeCallback(this.currStep.onCTA);else if("next"===e)d.nextStep(!0);else if("prev"===e)d.prevStep(!0);else if("close"===e){if(this.opt.isTourBubble){var s=d.getCurrStepNum()===d.getCurrTour().steps.length-1;o.invokeEventCallbacks("close"),d.endTour(!0,s)}else this.opt.onClose&&o.invokeCallback(this.opt.onClose),this.opt.id&&!this.opt.isTourBubble?d.getCalloutManager().removeCallout(this.opt.id):this.destroy();o.evtPreventDefault(t)}},init:function(t){var e,s,i,r=document.createElement("div"),n=this,a=!1;this.element=r,i={showPrevButton:c.showPrevButton,showNextButton:c.showNextButton,bubbleWidth:c.bubbleWidth,bubblePadding:c.bubblePadding,arrowWidth:c.arrowWidth,isRtl:c.isRtl,showNumber:!0,isTourBubble:!0},t=("undefined"==typeof t?"undefined":h(t))===m?{}:t,o.extend(i,t),this.opt=i,r.className="hopscotch-bubble animated",i.isTourBubble?(s=d.getCurrTour())&&o.addClass(r,"tour-"+s.id):o.addClass(r,"hopscotch-callout no-number"),o.addEvtListener(window,"resize",function(){!a&&n.isShowing&&(a=!0,setTimeout(function(){n.setPosition(n.currStep),a=!1},100))}),this.clickCb=function(t){n._handleBubbleClick(t)},o.addEvtListener(r,"click",this.clickCb),this.hide(),o.documentIsReady()?document.body.appendChild(r):(document.addEventListener?(e=function(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),document.body.appendChild(r)},document.addEventListener("DOMContentLoaded",e,!1)):(e=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),window.detachEvent("onload",e),document.body.appendChild(r))},document.attachEvent("onreadystatechange",e)),o.addEvtListener(window,"load",e))}},e=function(){var e={},s={};this.createCallout=function(i){var r;if(!i.id)throw new Error("Must specify a callout id.");if(!b.test(i.id))throw new Error("Callout ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");if(e[i.id])throw new Error("Callout by that id already exists. Please choose a unique id.");if(!o.getStepTarget(i))throw new Error("Must specify existing target element via 'target' option.");return i.showNextButton=i.showPrevButton=!1,i.isTourBubble=!1,r=new t(i),e[i.id]=r,s[i.id]=i,r.render(i,null,function(){r.show(),i.onShow&&o.invokeCallback(i.onShow)}),r},this.getCallout=function(t){return e[t]},this.removeAllCallouts=function(){var t;for(t in e)e.hasOwnProperty(t)&&this.removeCallout(t)},this.removeCallout=function(t){var i=e[t];e[t]=null,s[t]=null,i&&i.destroy()},this.refreshCalloutPositions=function(){var t,i,r;for(t in e)e.hasOwnProperty(t)&&s.hasOwnProperty(t)&&(r=s[t],(i=e[t])&&r&&i.setPosition(r))}},d=new function(s){var p,v,y,w,_,I,k,T,E=this,N={},A=[],P=function(e){return p&&p.element&&p.element.parentNode||(p=new t(y)),e&&o.extend(p.opt,{bubblePadding:S("bubblePadding"),bubbleWidth:S("bubbleWidth"),showNextButton:S("showNextButton"),showPrevButton:S("showPrevButton"),showCloseButton:S("showCloseButton"),arrowWidth:S("arrowWidth"),isRtl:S("isRtl")}),p},O=function(){p&&(p.destroy(),p=null)},S=function(t){return"undefined"==typeof y?c[t]:o.valOrDefault(y[t],c[t])},x=function(){return!w||0>_||_>=w.steps.length?null:w.steps[_]},C=function(){E.nextStep()},U=function t(e,s){var i,r;_+e>=0&&_+e<w.steps.length?(_+=e,r=function(){o.getStepTarget(i)?(N[_]&&delete N[_],s(_)):(N[_]=!0,o.invokeEventCallbacks("error"),t(e,s))},(i=x()).delay?setTimeout(r,i.delay):r()):s(-1)},B=function(t,e){var s,i,r,n,a=this;if(P().hide(),t=o.valOrDefault(t,!0),(s=x()).nextOnTargetClick&&o.removeEvtListener(o.getStepTarget(s),"click",C),i=s,n=function(s){var n;if(-1===s)return this.endTour(!0);if(t&&(n=e>0?o.invokeEventCallbacks("next",i.onNext):o.invokeEventCallbacks("prev",i.onPrev)),s===_){if(r)return void j();(n=o.valOrDefault(n,!0))?this.showStep(s):this.endTour(!1)}},!(r=e>0?i.multipage:_>0&&w.steps[_-1].multipage)&&S("skipIfNoElement"))U(e,function(t){n.call(a,t)});else if(_+e>=0&&_+e<w.steps.length){if(_+=e,s=x(),!o.getStepTarget(s)&&!r)return o.invokeEventCallbacks("error"),this.endTour(!0,!1);n.call(this,_)}else if(_+e===w.steps.length)return this.endTour();return this},D=function(t){function e(){i.show(),o.invokeEventCallbacks("show",s.onShow)}var s=w.steps[t],i=P(),r=o.getStepTarget(s);_!==t&&x().nextOnTargetClick&&o.removeEvtListener(o.getStepTarget(x()),"click",C),_=t,i.hide(!1),i.render(s,t,function(t){t?function(t){var e,s,i,r,n,a,u=P().element,c=o.getPixelValue(u.style.top),d=c+o.getPixelValue(u.offsetHeight),l=o.getStepTarget(x()).getBoundingClientRect(),p=l.top+o.getScrollTop(),f=l.bottom+o.getScrollTop(),v=p>c?c:p,y=d>f?d:f,b=o.getScrollTop(),w=b+o.getWindowHeight(),_=v-S("scrollTopMargin");v>=b&&(v<=b+S("scrollTopMargin")||w>=y)?t&&t():S("smoothScroll")?("undefined"==typeof YAHOO?"undefined":h(YAHOO))!==m&&h(YAHOO.env)!==m&&h(YAHOO.env.ua)!==m&&h(YAHOO.util)!==m&&h(YAHOO.util.Scroll)!==m?(e=YAHOO.env.ua.webkit?document.body:document.documentElement,i=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:void 0,(s=new YAHOO.util.Scroll(e,{scroll:{to:[0,_]}},S("scrollDuration")/1e3,i)).onComplete.subscribe(t),s.animate()):g?jQuery("body, html").animate({scrollTop:_},S("scrollDuration"),t):(0>_&&(_=0),r=b>v?-1:1,n=Math.abs(b-_)/(S("scrollDuration")/10),(a=function(){var e=o.getScrollTop(),s=e+r*n;return r>0&&s>=_||0>r&&_>=s?(s=_,t&&t(),void window.scrollTo(0,s)):(window.scrollTo(0,s),o.getScrollTop()===e?void(t&&t()):void setTimeout(a,10))})()):(window.scrollTo(0,_),t&&t())}(e):e(),s.nextOnTargetClick&&o.addEvtListener(r,"click",C)}),j()},j=function(){var t=w.id+":"+_,e=d.getSkippedStepsIndexes();e&&e.length>0&&(t+=":"+e.join(",")),o.setState(S("cookieName"),t,1)};this.getCalloutManager=function(){return("undefined"==typeof v?"undefined":h(v))===m&&(v=new e),v},this.startTour=function(t,e){var s,i={},r=this;if(!w){if(!t)throw new Error("Tour data is required for startTour.");if(!t.id||!b.test(t.id))throw new Error("Tour ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");w=t,(function(t){var e,s,i,r={};for(e in t)t.hasOwnProperty(e)&&"id"!==e&&"steps"!==e&&(r[e]=t[e]);return T.call(this,r,!0),(s=o.getState(S("cookieName")))&&(i=s.split(":"),I=i[0],k=i[1],i.length>2&&(A=i[2].split(",")),k=parseInt(k,10)),this}).call(this,t)}if(("undefined"==typeof e?"undefined":h(e))!==m){if(e>=w.steps.length)throw new Error("Specified step number out of bounds.");s=e}if(!o.documentIsReady())return f=!0,this;if("undefined"==typeof s&&w.id===I&&("undefined"==typeof k?"undefined":h(k))!==m){if(s=k,A.length>0)for(var n=0,a=A.length;a>n;n++)i[A[n]]=!0}else s||(s=0);return function(t,e,s){var i,r;if(_=t||0,N=e||{},i=x(),r=o.getStepTarget(i))s(_);else if(!r){if(o.invokeEventCallbacks("error"),N[_]=!0,S("skipIfNoElement"))return void U(1,s);s(_=-1)}}(s,i,function(t){return-1!==t&&o.getStepTarget(w.steps[t])?(o.invokeEventCallbacks("start"),P().hide(!1),r.isActive=!0,void(o.getStepTarget(x())?r.showStep(t):(o.invokeEventCallbacks("error"),S("skipIfNoElement")&&r.nextStep(!1)))):void r.endTour(!1,!1)}),this},this.showStep=function(t){var e=w.steps[t],s=_;return o.getStepTarget(e)?(e.delay?setTimeout(function(){D(t)},e.delay):D(t),this):(_=t,o.invokeEventCallbacks("error"),void(_=s))},this.prevStep=function(t){return B.call(this,t,-1),this},this.nextStep=function(t){return B.call(this,t,1),this},this.endTour=function(t,e){var s,i=P();return t=o.valOrDefault(t,!0),e=o.valOrDefault(e,!0),w&&(s=x())&&s.nextOnTargetClick&&o.removeEvtListener(o.getStepTarget(s),"click",C),_=0,k=void 0,i.hide(),t&&o.clearState(S("cookieName")),this.isActive&&(this.isActive=!1,w&&e&&o.invokeEventCallbacks("end")),this.removeCallbacks(null,!0),this.resetDefaultOptions(),O(),w=null,this},this.getCurrTour=function(){return w},this.getCurrTarget=function(){return o.getStepTarget(x())},this.getCurrStepNum=function(){return _},this.getSkippedStepsIndexes=function(){var t,e=[];for(t in N)e.push(t);return e},this.refreshBubblePosition=function(){var t=x();return t&&P().setPosition(t),this.getCalloutManager().refreshCalloutPositions(),this},this.listen=function(t,e,s){return t&&a[t].push({cb:e,fromTour:s}),this},this.unlisten=function(t,e){var s,i,r=a[t];for(s=0,i=r.length;i>s;++s)r[s].cb===e&&r.splice(s,1);return this},this.removeCallbacks=function(t,e){var s,i,r,n;for(n in a)if(!t||t===n)if(e)for(i=0,r=(s=a[n]).length;r>i;++i)s[i].fromTour&&(s.splice(i--,1),--r);else a[n]=[];return this},this.registerHelper=function(t,e){"string"==typeof t&&"function"==typeof e&&(u[t]=e)},this.unregisterHelper=function(t){u[t]=null},this.invokeHelper=function(t){var e,s,i=[];for(e=1,s=arguments.length;s>e;++e)i.push(arguments[e]);u[t]&&u[t].call(null,i)},this.setCookieName=function(t){return y.cookieName=t,this},this.resetDefaultOptions=function(){return y={},this},this.resetDefaultI18N=function(){return i={},this},this.getState=function(){return o.getState(S("cookieName"))},T=function(t,e){var s,r,n,a=["next","prev","start","end","show","error","close"];for(y||this.resetDefaultOptions(),o.extend(y,t),t&&o.extend(i,t.i18n),r=0,n=a.length;n>r;++r)t[s="on"+a[r].charAt(0).toUpperCase()+a[r].substring(1)]&&this.listen(a[r],t[s],e);return P(!0),this},this.configure=function(t){return T.call(this,t,!1)},this.setRenderer=function(t){var e="undefined"==typeof t?"undefined":h(t);return"string"===e?(l=t,r=void 0):"function"===e&&(r=t),this},this.setEscaper=function(t){return"function"==typeof t&&(n=t),this},(function(t){t&&this.configure(t)}).call(this,void 0)},(function(){var t={escape:function(t){return n?n(t):null==t?"":(""+t).replace(new RegExp("[&<>\"']","g"),function(t){return"&"==t?"&amp;":"<"==t?"&lt;":">"==t?"&gt;":'"'==t?"&quot;":"'"==t?"&#x27;":void 0})}};this.templates=this.templates||{},this.templates.bubble_default=function(e){function s(e,s){return s?t.escape(e):e}var i,r="";Array,r+="\n";var n=e.i18n,o=e.buttons,a=e.step,u=e.tour;return r+='\n<div class="hopscotch-bubble-container" style="width: '+(null==(i=a.width)?"":i)+"px; padding: "+(null==(i=a.padding)?"":i)+'px;">\n  ',u.isTour&&(r+='<span class="hopscotch-bubble-number">'+(null==(i=n.stepNum)?"":i)+"</span>"),r+='\n  <div class="hopscotch-bubble-content">\n    ',""!==a.title&&(r+='<h3 class="hopscotch-title">'+(null==(i=s(a.title,u.unsafe))?"":i)+"</h3>"),r+="\n    ",""!==a.content&&(r+='<div class="hopscotch-content">'+(null==(i=s(a.content,u.unsafe))?"":i)+"</div>"),r+='\n  </div>\n  <div class="hopscotch-actions">\n    ',o.showPrev&&(r+='<button class="hopscotch-nav-button prev hopscotch-prev">'+(null==(i=n.prevBtn)?"":i)+"</button>"),r+="\n    ",o.showCTA&&(r+='<button class="hopscotch-nav-button next hopscotch-cta">'+(null==(i=o.ctaLabel)?"":i)+"</button>"),r+="\n    ",o.showNext&&(r+='<button class="hopscotch-nav-button next hopscotch-next">'+(null==(i=n.nextBtn)?"":i)+"</button>"),r+="\n  </div>\n  ",o.showClose&&(r+='<button class="hopscotch-bubble-close hopscotch-close">'+(null==(i=n.closeTooltip)?"":i)+"</button>"),r+'\n</div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"></div>\n  <div class="hopscotch-bubble-arrow"></div>\n</div>\n'}}).call(d),d}),function t(e,s,i){function r(o,a){if(!s[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=s[o]={exports:{}};e[o][0].call(d.exports,function(t){return r(e[o][1][t]||t)},d,d.exports,t,e,s,i)}return s[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,s){window.DeviceHive=t(15)},{15:15}],15:[function(t,e,s){const i=t(69),r=t(3),n=t(14),o=t(24),a=t(18),u=t(21),c=t(25),d=t(22),h=t(17),l=t(19),p=t(20),m=t(26),f=t(23),g=t(39),v=t(37),y=t(38),b=t(41),w=t(42),_=t(40),I=t(43),k=t(46),T=t(44),E=t(45),N=t(47),A=t(48),P=t(49),O=t(50),S=t(51),x=t(52),C=t(53),U=t(54),B=t(63),D=t(55),j=t(56),L=t(57),M=t(58),R=t(59),F=t(64),H=t(65),G=t(60),K=t(61),W=t(62),z=t(32),q=t(30);e.exports=class extends r{static get models(){return{Command:g,Configuration:v,Device:y,DeviceType:b,Network:w,Notification:_,Plugin:I,PluginToken:T,User:E,UserToken:k,query:{CommandListQuery:N,CommandPollManyQuery:A,CommandPollQuery:P,CommandWaitQuery:O,DeviceCountQuery:S,DeviceListQuery:x,DeviceTypeCountQuery:C,DeviceTypeListQuery:U,PluginUpdateQuery:B,NetworkCountQuery:D,NetworkListQuery:j,NotificationListQuery:L,NotificationPollManyQuery:M,NotificationPollQuery:R,UserCountQuery:F,UserListQuery:H,PluginCountQuery:G,PluginListQuery:K,PluginRegisterQuery:W}}}constructor({mainServiceURL:t,authServiceURL:e,pluginServiceURL:s,accessToken:i,refreshToken:r,login:g,password:v,autoUpdateSession:y=!0}){super();const b=this;b.accessToken=i,b.refreshToken=r,b.login=g,b.password=v,b.autoUpdateSession=y,b.strategy=new n({mainServiceURL:t,authServiceURL:e,pluginServiceURL:s}),b.info=new o({strategy:b.strategy}),b.device=new a({strategy:b.strategy}),b.token=new c({strategy:b.strategy}),b.network=new d({strategy:b.strategy}),b.deviceType=new u({strategy:b.strategy}),b.configuration=new h({strategy:b.strategy}),b.command=new l({strategy:b.strategy}),b.notification=new p({strategy:b.strategy}),b.user=new m({strategy:b.strategy}),b.plugin=new f({strategy:b.strategy}),b.strategy.on("message",t=>b.emit("message",t)),b.strategy.on("error",t=>b.emit("error",t))}async connect({accessToken:t,refreshToken:e,login:s,password:r}={}){const n=this;if(t||e||s&&r||(t=t||n.accessToken,e=e||n.refreshToken,s=s||n.login,r=r||n.password),!(t||e||s&&r))throw new z;try{if(s&&r){const{accessToken:t,refreshToken:e}=await n.token.login(s,r);await n.strategy.authorize(t),n.accessToken=t,n.refreshToken=e}else if(e){const{accessToken:t}=await n.token.refresh(e);await n.strategy.authorize(t),n.accessToken=t,n.refreshToken=e}else t&&(await n.strategy.authorize(t),n.accessToken=t);if(!0===n.autoUpdateSession){const t=await n.token.createUserToken(i.createUserTokenFromJWT(n.accessToken));n.accessToken=t.accessToken,n.refreshToken=t.refreshToken,n.strategy.reconnectionHandler=(()=>n.connect({refreshToken:n.refreshToken}))}}catch(t){throw new q(t)}return n}disconnect(){return this.strategy.disconnect()}}},{14:14,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,3:3,30:30,32:32,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,69:69}],2:[function(t,e,s){"use strict";var i=new RegExp("%[a-f0-9]{2}","gi"),r=new RegExp("(%[a-f0-9]{2})+","gi");function n(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;var s=t.slice(0,e=e||1),i=t.slice(e);return Array.prototype.concat.call([],n(s),n(i))}function o(t){try{return decodeURIComponent(t)}catch(r){for(var e=t.match(i),s=1;s<e.length;s++)e=(t=n(e,s).join("")).match(i);return t}}e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},s=r.exec(t);s;){try{e[s[0]]=decodeURIComponent(s[0])}catch(t){var i=o(s[0]);i!==s[0]&&(e[s[0]]=i)}s=r.exec(t)}e["%C2"]="\ufffd";for(var n=Object.keys(e),a=0;a<n.length;a++){var u=n[a];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},{}],3:[function(t,e,s){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,s,i,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}if(o(s=this._events[t]))return!1;if(r(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),s.apply(this,a)}else if(n(s))for(a=Array.prototype.slice.call(arguments,1),i=(c=s.slice()).length,u=0;u<i;u++)c[u].apply(this,a);return!0},i.prototype.on=i.prototype.addListener=function(t,e){var s;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?n(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,n(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var s=!1;function i(){this.removeListener(t,i),s||(s=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var s,i,o,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(s=this._events[t]).length,i=-1,s===e||r(s.listener)&&s.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(n(s)){for(a=o;a-- >0;)if(s[a]===e||s[a].listener&&s[a].listener===e){i=a;break}if(i<0)return this;1===s.length?(s.length=0,delete this._events[t]):s.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,s;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(s=this._events[t]))this.removeListener(t,s);else if(s)for(;s.length;)this.removeListener(t,s[s.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],4:[function(t,e,s){t(13),e.exports=self.fetch.bind(self)},{13:13}],13:[function(t,e,s){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},r=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};d.prototype.append=function(t,e){t=a(t),e=u(e);var s=this.map[t];this.map[t]=s?s+","+e:e},d.prototype.delete=function(t){delete this.map[a(t)]},d.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},d.prototype.set=function(t,e){this.map[a(t)]=u(e)},d.prototype.forEach=function(t,e){for(var s in this.map)this.map.hasOwnProperty(s)&&t.call(e,this.map[s],s,this)},d.prototype.keys=function(){var t=[];return this.forEach(function(e,s){t.push(s)}),c(t)},d.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},d.prototype.entries=function(){var t=[];return this.forEach(function(e,s){t.push([s,e])}),c(t)},e.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var n=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},f.call(g.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var o=[301,302,303,307,308];y.redirect=function(t,e){if(-1===o.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=d,t.Request=g,t.Response=y,t.fetch=function(t,s){return new Promise(function(i,r){var n=new g(t,s),o=new XMLHttpRequest;o.onload=function(){var t,e,s={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new d,t.split(/\r?\n/).forEach(function(t){var s=t.split(":"),i=s.shift().trim();if(i){var r=s.join(":").trim();e.append(i,r)}}),e)};s.url="responseURL"in o?o.responseURL:s.headers.get("X-Request-URL"),i(new y("response"in o?o.response:o.responseText,s))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(n.method,n.url,!0),"include"===n.credentials&&(o.withCredentials=!0),"responseType"in o&&e.blob&&(o.responseType="blob"),n.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===n._bodyInit?null:n._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var s={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(s[Symbol.iterator]=function(){return s}),s}function d(t){this.map={},t instanceof d?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise(function(e,s){t.onload=function(){e(t.result)},t.onerror=function(){s(t.error)}})}function p(t){var e=new FileReader,s=l(e);return e.readAsArrayBuffer(t),s}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&i(t))this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!r(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,s,i=h(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,s=l(e=new FileReader),e.readAsText(t),s;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),s=new Array(e.length),i=0;i<e.length;i++)s[i]=String.fromCharCode(e[i]);return s.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var s,i,r=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(i=(s=e.method||this.method||"GET").toUpperCase(),n.indexOf(i)>-1?i:s),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var s=t.split("="),i=s.shift().replace(/\+/g," "),r=s.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},{}],5:[function(t,e,s){function i(t){this.message=t}(i.prototype=new Error).name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,r,n=0,o=0,a="";r=e.charAt(o++);~r&&(s=n%4?64*s+r:r,n++%4)?a+=String.fromCharCode(255&s>>(-2*n&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a}},{}],6:[function(t,e,s){var i=t(5);e.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(i(e).replace(/(.)/g,function(t,e){var s=e.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch(t){return i(e)}}},{5:5}],7:[function(t,e,s){"use strict";var i=t(6);function r(t){this.message=t}(r.prototype=new Error).name="InvalidTokenError",e.exports=function(t,e){if("string"!=typeof t)throw new r("Invalid token specified");var s=!0===(e=e||{}).header?0:1;try{return JSON.parse(i(t.split(".")[s]))}catch(t){throw new r("Invalid token specified: "+t.message)}},e.exports.InvalidTokenError=r},{6:6}],8:[function(t,e,s){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},s=0;s<10;s++)e["_"+String.fromCharCode(s)]=s;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var s,o,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in s=Object(arguments[u]))r.call(s,c)&&(a[c]=s[c]);if(i){o=i(s);for(var d=0;d<o.length;d++)n.call(s,o[d])&&(a[o[d]]=s[o[d]])}}return a}},{}],9:[function(t,e,s){"use strict";var i=t(10),r=t(8);function n(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}t(2),s.stringify=function(t,e){!1===(e=r({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var s=function(t){switch(t.arrayFormat){case"index":return function(e,s,i){return null===s?[n(e,t),"[",i,"]"].join(""):[n(e,t),"[",n(i,t),"]=",n(s,t)].join("")};case"bracket":return function(e,s){return null===s?n(e,t):[n(e,t),"[]=",n(s,t)].join("")};default:return function(e,s){return null===s?n(e,t):[n(e,t),"=",n(s,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(i){var r=t[i];if(void 0===r)return"";if(null===r)return n(i,e);if(Array.isArray(r)){var o=[];return r.slice().forEach(function(t){void 0!==t&&o.push(s(i,t,o.length))}),o.join("&")}return n(i,e)+"="+n(r,e)}).filter(function(t){return t.length>0}).join("&"):""}},{10:10,2:2,8:8}],10:[function(t,e,s){"use strict";e.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},{}],11:[function(t,e,s){var i=/\{([0-9a-zA-Z_]+)\}/g;e.exports=function(t){var e;if(2===arguments.length&&"object"==typeof arguments[1])e=arguments[1];else{e=new Array(arguments.length-1);for(var s=1;s<arguments.length;++s)e[s-1]=arguments[s]}return e&&e.hasOwnProperty||(e={}),t.replace(i,function(s,i,r){var n;return"{"===t[r-1]&&"}"===t[r+s.length]?i:null===(n=e.hasOwnProperty(i)?e[i]:null)||void 0===n?"":n})}},{}],12:[function(t,e,s){"use strict";e.exports=WebSocket},{}],14:[function(t,e,s){const i=t(3),r=t(66),n=t(67),o=t(16),a=t(69),u=t(34);class c extends i{static getType(t){let e;if(t.startsWith(r.TYPE))e=r;else{if(!t.startsWith(n.TYPE))throw new u;e=n}return e}constructor({mainServiceURL:t,authServiceURL:e,pluginServiceURL:s}){super();const i=this;i.reconnectionHandler=null,i.urlsMap=new Map,i.urlsMap.set(o.MAIN_BASE,t),i.urlsMap.set(o.AUTH_BASE,e),i.urlsMap.set(o.PLUGIN_BASE,s),i.strategy=new(c.getType(t))({mainServiceURL:t,authServiceURL:e,pluginServiceURL:s}),i.strategy.on("message",t=>{switch(i.strategy.type){case r.TYPE:i.emit("message",t);break;case n.TYPE:i.emit("message",t.subscriptionId&&t.action?t[t.action.split("/")[0]]:t)}})}authorize(t){return this.strategy.authenticate(t)}send(t,e,s){const i=this,u=o.build(i.strategy.type,t,e,s);switch(i.strategy.type){case r.TYPE:u.endpoint=`${i.urlsMap.get(u.base)}${u.endpoint}`;break;case n.TYPE:u.requestId=a.randomString()}return i.strategy.send(u).then(e=>o.normalizeResponse(i.strategy.type,t,e)).catch(e=>{if(e===a.TOKEN_EXPIRED_MARK&&i.reconnectionHandler)return i.reconnectionHandler().then(()=>i.strategy.send(u)).then(e=>o.normalizeResponse(i.strategy.type,t,e));throw e})}disconnect(){this.strategy.disconnect()}}e.exports=c},{16:16,3:3,34:34,66:66,67:67,69:69}],69:[function(t,e,s){const i=t(7),r=t(46);e.exports=class{static get TOKEN_EXPIRED_MARK(){return"Token expired"}static isObjectEmpty(t){return t&&t.constructor===Object&&0===Object.keys(t).length}static randomString(){return`${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`}static createUserTokenFromJWT(t){const e=i(t).payload;return new r({userId:e.u,actions:e.a,networkIds:e.n,deviceTypeIds:e.dt})}}},{46:46,7:7}],34:[function(t,e,s){e.exports=class extends Error{constructor(){super(),this.message="You are trying to use unsupported transport type.\nPlease, use one of provided in documentation."}}},{}],16:[function(t,e,s){const i=t(27);e.exports=class{static get HTTP_API(){return i.HTTP_API}static get WS_API(){return i.WS_API}static get MAIN_BASE(){return i.MAIN_BASE}static get AUTH_BASE(){return i.AUTH_BASE}static get PLUGIN_BASE(){return i.PLUGIN_BASE}static build(t,e,s,r){return i.build(t,e,s,r)}static normalizeResponse(t,e,s){return i.normalizeResponse(t,e,s)}constructor({strategy:t}){this.strategy=t}send(t,e,s){return this.strategy.send(t,e,s)}}},{27:27}],67:[function(t,e,s){const i=t(68),r=t(69),n=t(12),o=t(35);class a extends i{static get TYPE(){return"ws"}constructor({mainServiceURL:t}){super(),this.type=a.TYPE,this.isOpend=!1,this.socket=new n(t),this.socket.addEventListener("message",t=>{try{const e=JSON.parse(t.data);this.emit(e.requestId?e.requestId:"message",e)}catch(t){console.warn(t)}}),this.socket.addEventListener("error",t=>{this.emit("error",new o(t))}),this.socket.addEventListener("open",()=>this.isOpend=!0)}_getSocket(){return new Promise(t=>{!0===this.isOpend?t(this.socket):this.socket.addEventListener("open",()=>{this.isOpend=!0,t(this.socket)})})}authenticate(t){this.send({action:"authenticate",token:t})}send(t){return this._getSocket().then(()=>{const{requestId:e=r.randomString()}=t;return t.requestId=e,new Promise(s=>{this.socket.send(JSON.stringify(t));const i=r=>{r.requestId===e&&(this.removeListener(t.requestId,i),s(r))};this.addListener(t.requestId,i)})})}disconnect(){this.socket.close()}}e.exports=a},{12:12,35:35,68:68,69:69}],66:[function(t,e,s){t(4);const i=t(68),r=t(69);class n extends i{static get TYPE(){return"http"}constructor(){super(),this.type=n.TYPE,this.token="",this.subscriptionMap=new Map}authenticate(t){return this.token=t,Promise.resolve()}send({endpoint:t,method:e,body:s,subscription:i,unsubscription:n,noAuth:o}){const a=this;if(!0===i){const i=r.randomString(),n=a.initLongPolling(t,e,s);return n.poll(),a.subscriptionMap.set(i,n),Promise.resolve({subscriptionId:i})}if(!0===n){const t=s.subscriptionId,e=a.subscriptionMap.get(t);return e?(e.stop(),a.subscriptionMap.delete(t),Promise.resolve({status:"success"})):Promise.resolve({status:"No such subscription"})}return fetch(t,{headers:a._getHeaders(o),method:e,body:JSON.stringify(s)}).then(t=>t.text()).then(t=>t?JSON.parse(t):t)}initLongPolling(t,e,s){const i=this;let r=!1;return{poll:function n(){i.send({endpoint:t,method:e,body:s}).then(t=>{r||(t.forEach(t=>i.emit("message",t)),n())}).catch(t=>console.warn(t))},stop:function(){r=!0}}}_getHeaders(t=!1){const e={"Content-type":"application/json",Accept:"application/json"};return this.token&&!t&&(e.Authorization=`Bearer ${this.token}`),e}disconnect(){this.token=""}}e.exports=n},{4:4,68:68,69:69}],30:[function(t,e,s){e.exports=class extends Error{constructor(t){super(),this.message=`Invalid credentials error during attempt to authenticate. Error: ${t}`}}},{}],32:[function(t,e,s){e.exports=class extends Error{constructor(){super(),this.message="No authentication credentials provided.\nPlease, use credentials provided in documentation."}}},{}],45:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({id:t,login:e,role:s,status:i,lastLogin:r,data:n,password:o,introReviewed:a,allDeviceTypesAvailable:u}={}){super(),this.id=t,this.login=e,this.role=s,this.status=i,this.lastLogin=r,this.data=n,this.password=o,this.introReviewed=a,this.allDeviceTypesAvailable=u}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get login(){return this._login}set login(t){this._login=t}get role(){return this._role}set role(t){this._role=t}get status(){return this._status}set status(t){this._status=t}get lastLogin(){return this._lastLogin}set lastLogin(t){this._lastLogin=t}get data(){return this._data}set data(t){this._data=t}get password(){return this._password}set password(t){this._password=t}get introReviewed(){return this._introReviewed}set introReviewed(t){this._introReviewed=t}get allDeviceTypesAvailable(){return this._allDeviceTypesAvailable}set allDeviceTypesAvailable(t){this._allDeviceTypesAvailable=t}toObject(){return{id:this.id,login:this.login,role:this.role,status:this.status,lastLogin:this.lastLogin,data:this.data,password:this.password,introReviewed:this.introReviewed,allDeviceTypesAvailable:this.allDeviceTypesAvailable}}}},{36:36}],41:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({id:t,name:e,description:s}={}){super(),this.id=t,this.name=e,this.description=s}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}toObject(){return{id:this.id,name:this.name,description:this.description}}}},{36:36}],43:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({id:t,name:e,description:s,topicName:i,filter:r,status:n,subscriptionId:o,userId:a,parameters:u}={}){super(),this.id=t,this.name=e,this.description=s,this.topicName=i,this.filter=r,this.status=n,this.subscriptionId=o,this.userId=a,this.parameters=u}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}get topicName(){return this._topicName}set topicName(t){this._topicName=t}get filter(){return this._filter}set filter(t){this._filter=t}get status(){return this._status}set status(t){this._status=t}get subscriptionId(){return this._subscriptionId}set subscriptionId(t){this._subscriptionId=t}get userId(){return this._userId}set userId(t){this._userId=t}get parameters(){return this._parameters}set parameters(t){this._parameters=t}toObject(){return{id:this.id,name:this.name,description:this.description,topicName:this.topicName,filter:this.filter,status:this.status,subscriptionId:this.subscriptionId,userId:this.userId,parameters:this.parameters}}}},{36:36}],46:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({userId:t,actions:e,networkIds:s,deviceTypeIds:i,expiration:r}={}){super(),this.userId=t,this.actions=e,this.networkIds=s,this.deviceTypeIds=i,this.expiration=r}get userId(){return this._userId}set userId(t){this._userId=t}get actions(){return this._actions}set actions(t){this._actions=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get expiration(){return this._expiration}set expiration(t){this._expiration=t}toObject(){return{userId:this.userId,actions:this.actions,networkIds:this.networkIds,deviceTypeIds:this.deviceTypeIds,expiration:this.expiration}}}},{36:36}],40:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({id:t,deviceId:e,networkId:s,deviceTypeId:i,notification:r,timestamp:n,parameters:o}={}){super(),this.id=t,this.deviceId=e,this.networkId=s,this.deviceTypeId=i,this.notification=r,this.timestamp=n,this.parameters=o}get id(){return this._id}set id(t){this._id=t}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get networkId(){return this._networkId}set networkId(t){this._networkId=t}get deviceTypeId(){return this._deviceTypeId}set deviceTypeId(t){this._deviceTypeId=t}get name(){return this._name}set name(t){this._name=t}get notification(){return this._notification}set notification(t){this._notification=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get parameters(){return this._parameters}set parameters(t){this._parameters=t}toObject(){return{id:this.id,deviceId:this.deviceId,networkId:this.networkId,deviceTypeId:this.deviceTypeId,notification:this.notification,timestamp:this.timestamp,parameters:this.parameters}}}},{36:36}],38:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({id:t,name:e,data:s,networkId:i,deviceTypeId:r,isBlocked:n}={}){super(),this.id=t,this.name=e,this.data=s,this.networkId=i,this.deviceTypeId=r,this.isBlocked=n}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get data(){return this._data}set data(t){this._data=t}get networkId(){return this._networkId}set networkId(t){this._networkId=t}get deviceTypeId(){return this._deviceTypeId}set deviceTypeId(t){this._deviceTypeId=t}get isBlocked(){return this._isBlocked}set isBlocked(t){this._isBlocked=t}toObject(){return{id:this.id,name:this.name,data:this.data,networkId:this.networkId,deviceTypeId:this.deviceTypeId,isBlocked:this.isBlocked}}}},{36:36}],37:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({name:t,value:e,entityVersion:s}={}){super(),this.name=t,this.value=e}get name(){return this._name}set name(t){this._name=t}get value(){return this._value}set value(t){this._value=t}toObject(){return{name:this.name,value:this.value,entityVersion:this.entityVersion}}}},{36:36}],39:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({id:t,command:e,timestamp:s,lastUpdated:i,userId:r,deviceId:n,networkId:o,deviceTypeId:a,parameters:u,lifetime:c,status:d,result:h}={}){super(),this.id=t,this.command=e,this.timestamp=s,this.lastUpdated=i,this.userId=r,this.deviceId=n,this.networkId=o,this.deviceTypeId=a,this.parameters=u,this.lifetime=c,this.status=d,this.result=h}get id(){return this._id}set id(t){this._id=t}get command(){return this._command}set command(t){this._command=t}get name(){return this._name}set name(t){this._name=t}get notification(){return this._notification}set notification(t){this._notification=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get lastUpdated(){return this._lastUpdated}set lastUpdated(t){this._lastUpdated=t}get userId(){return this._userId}set userId(t){this._userId=t}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get networkId(){return this._networkId}set networkId(t){this._networkId=t}get deviceTypeId(){return this._deviceTypeId}set deviceTypeId(t){this._deviceTypeId=t}get parameters(){return this._parameters}set parameters(t){this._parameters=t}get lifetime(){return this._lifetime}set lifetime(t){this._lifetime=t}get status(){return this._status}set status(t){this._status=t}get result(){return this._result}set result(t){this._result=t}toObject(){return{id:this.id,command:this.command,timestamp:this.timestamp,lastUpdated:this.lastUpdated,userId:this.userId,deviceId:this.deviceId,networkId:this.networkId,deviceTypeId:this.deviceTypeId,parameters:this.parameters,lifetime:this.lifetime,status:this.status,result:this.result}}}},{36:36}],24:[function(t,e,s){const i=t(16),r=t(27);e.exports=class extends i{getServerInfo(){return this.send(r.getServerInfo)}getCacheInfo(){return this.send(r.getCacheInfo)}getClusterInfo(){return this.send(r.getClusterInfo)}}},{16:16,27:27}],25:[function(t,e,s){const i=t(16),r=t(27);e.exports=class extends i{login(t,e){return this.send(r.login,{},{login:t,password:e})}authPlugin(t){return this.send(r.authenticatePlugin,{token:t})}createUserToken(t){return this.send(r.createUserToken,{},t.toObject())}createPluginToken(t){return this.send(r.createPluginToken,{},t.toObject())}refresh(t){return this.send(r.refreshToken,{},{refreshToken:t})}}},{16:16,27:27}],19:[function(t,e,s){const i=t(16),r=t(27),n=t(47),o=t(49),a=t(48),u=t(50);e.exports=class extends i{get(t,e){return this.send(r.getCommand,{deviceId:t,commandId:e})}list(t=new n){return this.send(r.listCommand,t.toObject())}insert(t,e){return this.send(r.insertCommand,{deviceId:t},e.toObject())}update(t){return this.send(r.updateCommand,{deviceId:t.deviceId,commandId:t.id},t.toObject())}poll(t=new o){return this.send(r.pollCommand,t.toObject())}pollMany(t=new a){return this.send(r.pollManyCommand,t.toObject())}wait(t,e,s=new u){return this.send(r.waitCommand,Object.assign({},{deviceId:t,commandId:e},s.toObject()))}subscribe(t=new o){return this.send(r.subscribeCommand,t.toObject())}unsubscribe(t){return this.send(r.unsubscribeCommand,{subscriptionId:t})}}},{16:16,27:27,47:47,48:48,49:49,50:50}],20:[function(t,e,s){const i=t(16),r=t(27),n=t(57),o=t(59),a=t(58);e.exports=class extends i{get(t,e){return this.send(r.getNotification,{deviceId:t,notificationId:e})}list(t=new n){return this.send(r.listNotification,t.toObject())}insert(t,e){return this.send(r.insertNotification,{deviceId:t},e.toObject())}poll(t=new o){return this.send(r.pollNotification,t.toObject())}pollMany(t=new a){return this.send(r.pollManyNotification,t.toObject())}subscribe(t=new o){return this.send(r.subscribeNotification,t.toObject())}unsubscribe(t){return this.send(r.unsubscribeNotification,{subscriptionId:t})}}},{16:16,27:27,57:57,58:58,59:59}],18:[function(t,e,s){const i=t(16),r=t(27),n=t(51),o=t(52);e.exports=class extends i{get(t){return this.send(r.getDevice,{deviceId:t})}list(t=new o){return this.send(r.listDevice,t.toObject())}count(t=new n){return this.send(r.countDevice,t.toObject())}add(t){return this.send(r.addDevice,{deviceId:t.id},t.toObject())}delete(t){return this.send(r.deleteDevice,{deviceId:t})}}},{16:16,27:27,51:51,52:52}],23:[function(t,e,s){const i=t(16),r=t(27),n=t(60),o=t(61),a=t(62),u=t(63);e.exports=class extends i{list(t=new o){return this.send(r.listPlugin,t.toObject())}count(t=new n){return this.send(r.countPlugin,t.toObject())}register(t,e=new a){return this.send(r.registerPlugin,e.toObject(),{name:t.name,description:t.description,parameters:t.parameters})}update(t=new u){return this.send(r.updatePlugin,t.toObject())}delete(t){return this.send(r.deletePlugin,{topicName:t})}}},{16:16,27:27,60:60,61:61,62:62,63:63}],26:[function(t,e,s){const i=t(16),r=t(27),n=t(65),o=t(64);e.exports=class extends i{list(t=new n){return this.send(r.listUser,t.toObject())}count(t=new o){return this.send(r.countUser,t.toObject())}get(t){return this.send(r.getUser,{userId:t})}insert(t){return this.send(r.addUser,{},t.toObject())}update(t){return this.send(r.updateUser,{userId:t.id},t.toObject())}delete(t){return this.send(r.deleteUser,{userId:t})}getCurrent(){return this.send(r.getCurrentUser)}updateCurrent(t){return this.send(r.updateCurrentUser,{},t.toObject())}getDeviceTypes(t){return this.send(r.getUserDeviceTypes,{userId:t})}unassignAllDeviceTypes(t){return this.send(r.unassignAllDeviceTypes,{userId:t})}assignAllDeviceTypes(t){return this.send(r.assignAllDeviceTypes,{userId:t})}unassignDeviceType(t,e){return this.send(r.unassignDeviceType,{userId:t,deviceTypeId:e})}getDeviceType(t,e){return this.send(r.getUserDeviceType,{userId:t,deviceTypeId:e})}assignDeviceType(t,e){return this.send(r.assignDeviceType,{userId:t,deviceTypeId:e})}getNetwork(t,e){return this.send(r.getUserNetwork,{userId:t,networkId:e})}assignNetwork(t,e){return this.send(r.assignNetwork,{userId:t,networkId:e})}unassignNetwork(t,e){return this.send(r.unassignNetwork,{userId:t,networkId:e})}}},{16:16,27:27,64:64,65:65}],17:[function(t,e,s){const i=t(16),r=t(27);e.exports=class extends i{get(t){return this.send(r.getConfiguration,{name:t})}put(t){return this.send(r.putConfiguration,t.toObject(),t.toObject())}delete(t){return this.send(r.deleteConfiguration,{name:t})}}},{16:16,27:27}],22:[function(t,e,s){const i=t(16),r=t(27),n=t(56),o=t(55);e.exports=class extends i{get(t){return this.send(r.getNetwork,{networkId:t})}list(t=new n){return this.send(r.listNetwork,t.toObject())}count(t=new o){return this.send(r.countNetwork,t.toObject())}insert(t){return this.send(r.addNetwork,{},t.toObject())}update(t){return this.send(r.updateNetwork,{networkId:t.id},t.toObject())}delete(t){return this.send(r.deleteNetwork,{networkId:t})}}},{16:16,27:27,55:55,56:56}],47:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({deviceId:t,start:e,end:s,command:i,status:r,sortField:n,sortOrder:o,take:a,skip:u}={}){super(),this.deviceId=t,this.start=e,this.end=s,this.command=i,this.status=r,this.sortField=n,this.sortOrder=o,this.take=a,this.skip=u}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get start(){return this._start}set start(t){this._start=t}get end(){return this._end}set end(t){this._end=t}get command(){return this._command}set command(t){this._command=t}get status(){return this._status}set status(t){this._status=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){return{deviceId:this.deviceId,start:this.start,end:this.end,command:this.command,status:this.status,sortField:this.sortField,sortOrder:this.sortOrder,take:this.take,skip:this.skip}}}},{36:36}],49:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({deviceId:t,names:e,timestamp:s,returnUpdatedCommands:i,waitTimeout:r,limit:n}={}){super(),this.deviceId=t,this.names=e,this.timestamp=s,this.returnUpdatedCommands=i,this.waitTimeout=r,this.limit=n}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get names(){return this._names}set names(t){this._names=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get returnUpdatedCommands(){return this._returnUpdatedCommands}set returnUpdatedCommands(t){this._returnUpdatedCommands=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}get limit(){return this._limit}set limit(t){this._limit=t}toObject(){return{deviceId:this.deviceId,names:this.names,timestamp:this.timestamp,returnUpdatedCommands:this.returnUpdatedCommands,waitTimeout:this.waitTimeout,limit:this.limit}}}},{36:36}],51:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({name:t,namePattern:e,networkId:s,networkName:i}={}){super(),this.name=t,this.namePattern=e,this.networkId=s,this.networkName=i}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get networkId(){return this._networkId}set networkId(t){this._networkId=t}get networkName(){return this._networkName}set networkName(t){this._networkName=t}toObject(){return{name:this.name,namePattern:this.namePattern,networkId:this.networkId,networkName:this.networkName}}}},{36:36}],48:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({deviceIds:t,networkIds:e,deviceTypeIds:s,names:i,timestamp:r,waitTimeout:n,limit:o}={}){super(),this.deviceIds=t,this.networkIds=e,this.deviceTypeIds=s,this.names=i,this.timestamp=r,this.waitTimeout=n,this.limit=o}get deviceIds(){return this._deviceIds}set deviceIds(t){this._deviceIds=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get names(){return this._names}set names(t){this._names=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}get limit(){return this._limit}set limit(t){this._limit=t}toObject(){return{deviceIds:this.deviceIds,networkIds:this.networkIds,deviceTypeIds:this.deviceTypeIds,names:this.names,timestamp:this.timestamp,waitTimeout:this.waitTimeout,limit:this.limit}}}},{36:36}],56:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({name:t,namePattern:e,sortField:s,sortOrder:i,take:r,skip:n}={}){super(),this.name=t,this.namePattern=e,this.sortField=s,this.sortOrder=i,this.take=r,this.skip=n}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){return{name:this.name,namePattern:this.namePattern,sortField:this.sortField,sortOrder:this.sortOrder,take:this.take,skip:this.skip}}}},{36:36}],53:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({name:t,namePattern:e}={}){super(),this.name=t,this.namePattern=e}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}toObject(){return{name:this.name,namePattern:this.namePattern}}}},{36:36}],50:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({waitTimeout:t}={}){super(),this.waitTimeout=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}toObject(){return{waitTimeout:this.waitTimeout}}}},{36:36}],55:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({name:t,namePattern:e}={}){super(),this.name=t,this.namePattern=e}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}toObject(){return{name:this.name,namePattern:this.namePattern}}}},{36:36}],57:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({deviceId:t,start:e,end:s,notification:i,sortField:r,sortOrder:n,take:o,skip:a}={}){super(),this.deviceId=t,this.start=e,this.end=s,this.notification=i,this.sortField=r,this.sortOrder=n,this.take=o,this.skip=a}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get start(){return this._start}set start(t){this._start=t}get end(){return this._end}set end(t){this._end=t}get notification(){return this._notification}set notification(t){this._notification=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){return{deviceId:this.deviceId,start:this.start,end:this.end,notification:this.notification,sortField:this.sortField,sortOrder:this.sortOrder,take:this.take,skip:this.skip}}}},{36:36}],61:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({name:t,namePattern:e,topicName:s,status:i,userId:r,sortField:n,sortOrder:o,take:a,skip:u}={}){super(),this.name=t,this.namePattern=e,this.topicName=s,this.status=i,this.userId=r,this.sortField=n,this.sortOrder=o,this.take=a,this.skip=u}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get topicName(){return this._topicName}set topicName(t){this._topicName=t}get status(){return this._status}set status(t){this._status=t}get userId(){return this._userId}set userId(t){this._userId=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){return{name:this.name,namePattern:this.namePattern,topicName:this.topicName,status:this.status,userId:this.userId,sortField:this.sortField,sortOrder:this.sortOrder,take:this.take,skip:this.skip}}}},{36:36}],58:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({deviceIds:t,networkIds:e,deviceTypeIds:s,names:i,timestamp:r,waitTimeout:n}={}){super(),this.deviceIds=t,this.networkIds=e,this.deviceTypeIds=s,this.names=i,this.timestamp=r,this.waitTimeout=n}get deviceIds(){return this._deviceIds}set deviceIds(t){this._deviceIds=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get names(){return this._names}set names(t){this._names=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}toObject(){return{deviceIds:this.deviceIds,networkIds:this.networkIds,deviceTypeIds:this.deviceTypeIds,names:this.names,timestamp:this.timestamp,waitTimeout:this.waitTimeout}}}},{36:36}],52:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({name:t,namePattern:e,networkId:s,networkName:i,sortField:r,sortOrder:n,take:o,skip:a}={}){super(),this.name=t,this.namePattern=e,this.networkId=s,this.networkName=i,this.sortField=r,this.sortOrder=n,this.take=o,this.skip=a}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get networkId(){return this._networkId}set networkId(t){this._networkId=t}get networkName(){return this._networkName}set networkName(t){this._networkName=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){return{name:this.name,namePattern:this.namePattern,networkId:this.networkId,networkName:this.networkName,sortField:this.sortField,sortOrder:this.sortOrder,take:this.take,skip:this.skip}}}},{36:36}],65:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({login:t,loginPattern:e,role:s,status:i,sortField:r,sortOrder:n,take:o,skip:a}={}){super(),this.login=t,this.loginPattern=e,this.role=s,this.status=i,this.sortField=r,this.sortOrder=n,this.take=o,this.skip=a}get login(){return this._login}set login(t){this._login=t}get loginPattern(){return this._loginPattern}set loginPattern(t){this._loginPattern=t}get role(){return this._role}set role(t){this._role=t}get status(){return this._status}set status(t){this._status=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){return{login:this.login,loginPattern:this.loginPattern,role:this.role,status:this.status,sortField:this.sortField,sortOrder:this.sortOrder,take:this.take,skip:this.skip}}}},{36:36}],62:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({deviceId:t,networkIds:e,deviceTypeIds:s,names:i,returnCommands:r=!0,returnUpdatedCommands:n=!1,returnNotifications:o=!1}={}){super(),this.deviceId=t,this.networkIds=e,this.deviceTypeIds=s,this.names=i,this.returnCommands=r,this.returnUpdatedCommands=n,this.returnNotifications=o}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get names(){return this._names}set names(t){this._names=t}get returnCommands(){return this._returnCommands}set returnCommands(t){this._returnCommands=t}get returnUpdatedCommands(){return this._returnUpdatedCommands}set returnUpdatedCommands(t){this._returnUpdatedCommands=t}get returnNotifications(){return this._returnNotifications}set returnNotifications(t){this._returnNotifications=t}toObject(){return{deviceId:this.deviceId,networkIds:this.networkIds,deviceTypeIds:this.deviceTypeIds,names:this.names,returnCommands:this.returnCommands,returnUpdatedCommands:this.returnUpdatedCommands,returnNotifications:this.returnNotifications}}}},{36:36}],60:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({name:t,namePattern:e,topicName:s,status:i,userId:r}={}){super(),this.name=t,this.namePattern=e,this.topicName=s,this.status=i,this.userId=r}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get topicName(){return this._topicName}set topicName(t){this._topicName=t}get status(){return this._status}set status(t){this._status=t}get userId(){return this._userId}set userId(t){this._userId=t}toObject(){return{name:this.name,namePattern:this.namePattern,topicName:this.topicName,status:this.status,userId:this.userId}}}},{36:36}],59:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({deviceId:t,names:e,timestamp:s,waitTimeout:i}={}){super(),this.deviceId=t,this.names=e,this.timestamp=s,this.waitTimeout=i}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get names(){return this._names}set names(t){this._names=t}get timestamp(){return this._timestamp}set timestamp(t){this._timestamp=t}get waitTimeout(){return this._waitTimeout}set waitTimeout(t){this._waitTimeout=t}toObject(){return{deviceId:this.deviceId,names:this.names,timestamp:this.timestamp,waitTimeout:this.waitTimeout}}}},{36:36}],54:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({name:t,namePattern:e,sortField:s,sortOrder:i,take:r,skip:n}={}){super(),this.name=t,this.namePattern=e,this.sortField=s,this.sortOrder=i,this.take=r,this.skip=n}get name(){return this._name}set name(t){this._name=t}get namePattern(){return this._namePattern}set namePattern(t){this._namePattern=t}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get take(){return this._take}set take(t){this._take=t}get skip(){return this._skip}set skip(t){this._skip=t}toObject(){return{name:this.name,namePattern:this.namePattern,sortField:this.sortField,sortOrder:this.sortOrder,take:this.take,skip:this.skip}}}},{36:36}],64:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({login:t,loginPattern:e,role:s,status:i}={}){super(),this.login=t,this.loginPattern=e,this.role=s,this.status=i}get login(){return this._login}set login(t){this._login=t}get loginPattern(){return this._loginPattern}set loginPattern(t){this._loginPattern=t}get role(){return this._role}set role(t){this._role=t}get status(){return this._status}set status(t){this._status=t}toObject(){return{login:this.login,loginPattern:this.loginPattern,role:this.role,status:this.status}}}},{36:36}],42:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({id:t,name:e,description:s}={}){super(),this.id=t,this.name=e,this.description=s}get id(){return this._id}set id(t){this._id=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}toObject(){return{id:this.id,name:this.name,description:this.description}}}},{36:36}],63:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({topicName:t,deviceId:e,networkIds:s,deviceTypeIds:i,names:r,returnCommands:n,returnUpdatedCommands:o,returnNotifications:a,status:u,name:c,description:d,parameters:h}={}){super(),this.topicName=t,this.deviceId=e,this.networkIds=s,this.deviceTypeIds=i,this.names=r,this.returnCommands=n,this.returnUpdatedCommands=o,this.returnNotifications=a,this.status=u,this.name=c,this.description=d,this.parameters=h}get topicName(){return this._topicName}set topicName(t){this._topicName=t}get deviceId(){return this._deviceId}set deviceId(t){this._deviceId=t}get networkIds(){return this._networkIds}set networkIds(t){this._networkIds=t}get deviceTypeIds(){return this._deviceTypeIds}set deviceTypeIds(t){this._deviceTypeIds=t}get names(){return this._names}set names(t){this._names=t}get returnCommands(){return this._returnCommands}set returnCommands(t){this._returnCommands=t}get returnUpdatedCommands(){return this._returnUpdatedCommands}set returnUpdatedCommands(t){this._returnUpdatedCommands=t}get returnNotifications(){return this._returnNotifications}set returnNotifications(t){this._returnNotifications=t}get status(){return this._status}set status(t){this._status=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}get parameters(){return this._parameters}set parameters(t){this._parameters=t}toObject(){return{topicName:this.topicName,deviceId:this.deviceId,networkIds:this.networkIds,deviceTypeIds:this.deviceTypeIds,names:this.names,returnCommands:this.returnCommands,returnUpdatedCommands:this.returnUpdatedCommands,returnNotifications:this.returnNotifications,status:this.status,name:this.name,description:this.description,parameters:this.parameters}}}},{36:36}],44:[function(t,e,s){const i=t(36);e.exports=class extends i{constructor({actions:t,expiration:e,type:s,topicName:i}={}){super(),this.actions=t,this.expiration=e,this.type=s,this.topicName=i}get actions(){return this._actions}set actions(t){this._actions=t}get expiration(){return this._expiration}set expiration(t){this._expiration=t}get type(){return this._type}set type(t){this._type=t}get topicName(){return this._topicName}set topicName(t){this._topicName=t}toObject(){return{a:this.actions,e:this.expiration,t:this.type,tpc:this.topicName}}}},{36:36}],21:[function(t,e,s){const i=t(16),r=t(27),n=t(54),o=t(53);e.exports=class extends i{get(t){return this.send(r.getDeviceType,{deviceTypeId:t})}list(t=new n){return this.send(r.listDeviceType,t.toObject())}count(t=new o){return this.send(r.countDeviceType,t.toObject())}insert(t){return this.send(r.addDeviceType,{},t.toObject())}update(t){return this.send(r.updateDeviceType,{deviceTypeId:t.id},t.toObject())}delete(t){return this.send(r.deleteDeviceType,{deviceTypeId:t})}}},{16:16,27:27,53:53,54:54}],27:[function(t,e,s){const i=t(28),r=t(29),n=t(31),o=t(33),a=new Map;class u{static get login(){return"login"}static get createUserToken(){return"createUserToken"}static get createPluginToken(){return"createPluginToken"}static get refreshToken(){return"refreshToken"}static get authenticatePlugin(){return"authenticatePlugin"}static get getServerInfo(){return"getServerInfo"}static get getCacheInfo(){return"getCacheInfo"}static get getClusterInfo(){return"getClusterInfo"}static get getConfiguration(){return"getConfiguration"}static get putConfiguration(){return"putConfiguration"}static get deleteConfiguration(){return"deleteConfiguration"}static get listDevice(){return"listDevice"}static get countDevice(){return"countDevice"}static get getDevice(){return"getDevice"}static get addDevice(){return"addDevice"}static get deleteDevice(){return"deleteDevice"}static get listDeviceType(){return"listDeviceType"}static get countDeviceType(){return"countDeviceType"}static get getDeviceType(){return"getDeviceType"}static get addDeviceType(){return"addDeviceType"}static get updateDeviceType(){return"updateDeviceType"}static get deleteDeviceType(){return"deleteDeviceType"}static get getCommand(){return"getCommand"}static get listCommand(){return"listCommand"}static get insertCommand(){return"insertCommand"}static get subscribeCommand(){return"subscribeCommand"}static get pollCommand(){return"pollCommand"}static get pollManyCommand(){return"pollManyCommand"}static get waitCommand(){return"waitCommand"}static get unsubscribeCommand(){return"unsubscribeCommand"}static get updateCommand(){return"updateCommand"}static get getNotification(){return"getNotification"}static get listNotification(){return"listNotification"}static get insertNotification(){return"insertNotification"}static get subscribeNotification(){return"subscribeNotification"}static get unsubscribeNotification(){return"unsubscribeNotification"}static get pollNotification(){return"pollNotification"}static get pollManyNotification(){return"pollManyNotification"}static get listNetwork(){return"listNetwork"}static get countNetwork(){return"countNetwork"}static get getNetwork(){return"getNetwork"}static get addNetwork(){return"addNetwork"}static get updateNetwork(){return"updateNetwork"}static get deleteNetwork(){return"deleteNetwork"}static get listUser(){return"listUser"}static get countUser(){return"countUser"}static get getUser(){return"getUser"}static get addUser(){return"addUser"}static get updateUser(){return"updateUser"}static get deleteUser(){return"deleteUser"}static get getCurrentUser(){return"getCurrentUser"}static get updateCurrentUser(){return"updateCurrentUser"}static get getUserDeviceTypes(){return"getUserDeviceTypes"}static get assignAllDeviceTypes(){return"assignAllDeviceTypes"}static get unassignAllDeviceTypes(){return"unassignAllDeviceTypes"}static get getUserDeviceType(){return"getUserDeviceType"}static get assignDeviceType(){return"assignDeviceType"}static get unassignDeviceType(){return"unassignDeviceType"}static get getUserNetwork(){return"getUserNetwork"}static get assignNetwork(){return"assignNetwork"}static get unassignNetwork(){return"unassignNetwork"}static get listPlugin(){return"listPlugin"}static get countPlugin(){return"countPlugin"}static get registerPlugin(){return"registerPlugin"}static get deletePlugin(){return"deletePlugin"}static get updatePlugin(){return"updatePlugin"}static get HTTP_API(){return"http"}static get WS_API(){return"ws"}static get MAIN_BASE(){return"main"}static get AUTH_BASE(){return"auth"}static get PLUGIN_BASE(){return"plugin"}static build(t,e,s,c){let d;const h=a.get(e);if(!h)throw new n;const l=h[t];if(!l)throw new o({key:e,transport:t});switch(t){case u.HTTP_API:d=new i(l);break;case u.WS_API:d=new r(l)}return d.build(s,c)}static normalizeResponse(t,e,s){let n={};switch(t){case u.HTTP_API:n=i.normalizeResponse(s);break;case u.WS_API:n=r.normalizeResponse(s,a.get(e)[t].response)}return n}}a.set(u.login,{http:{method:"POST",uri:"/token",base:u.AUTH_BASE,noAuth:!0},ws:{action:"token",response:["accessToken","refreshToken"]}}),a.set(u.createUserToken,{http:{method:"POST",uri:"/token/create",base:u.AUTH_BASE},ws:{action:"token/create",bodyKey:"payload",response:["accessToken","refreshToken"]}}),a.set(u.createPluginToken,{http:{method:"POST",uri:"/token/plugin/create",base:u.AUTH_BASE}}),a.set(u.refreshToken,{http:{method:"POST",uri:"/token/refresh",base:u.AUTH_BASE,noAuth:!0},ws:{action:"token/refresh",response:["accessToken"]}}),a.set(u.authenticatePlugin,{http:{method:"GET",uri:"/token/plugin/authenticate",base:u.AUTH_BASE}}),a.set(u.getServerInfo,{http:{method:"GET",uri:"/info",base:u.MAIN_BASE,noAuth:!0},ws:{action:"server/info",response:{bodyKey:"info"}}}),a.set(u.getCacheInfo,{http:{method:"GET",uri:"/info/cache",base:u.MAIN_BASE,noAuth:!0}}),a.set(u.getClusterInfo,{http:{method:"GET",uri:"/info/config/cluster",base:u.MAIN_BASE,noAuth:!0},ws:{action:"cluster/info",response:{bodyKey:"clusterInfo"}}}),a.set(u.getConfiguration,{http:{method:"GET",uri:"/configuration/{name}",base:u.MAIN_BASE},ws:{action:"configuration/get",response:{bodyKey:"configuration"}}}),a.set(u.putConfiguration,{http:{method:"PUT",uri:"/configuration/{name}",base:u.MAIN_BASE},ws:{action:"configuration/put",response:{bodyKey:"configuration"}}}),a.set(u.deleteConfiguration,{http:{method:"DELETE",uri:"/configuration/{name}",base:u.MAIN_BASE},ws:{action:"configuration/delete",response:null}}),a.set(u.listDevice,{http:{method:"GET",uri:"/device",base:u.MAIN_BASE},ws:{action:"device/list",response:{bodyKey:"devices"}}}),a.set(u.countDevice,{http:{method:"GET",uri:"/device/count",base:u.MAIN_BASE},ws:{action:"device/count",response:["count"]}}),a.set(u.getDevice,{http:{method:"GET",uri:"/device/{deviceId}",base:u.MAIN_BASE},ws:{action:"device/get",response:{bodyKey:"device"}}}),a.set(u.addDevice,{http:{method:"PUT",uri:"/device/{deviceId}",base:u.MAIN_BASE},ws:{action:"device/save",bodyKey:"device",response:null}}),a.set(u.deleteDevice,{http:{method:"DELETE",uri:"/device/{deviceId}",base:u.MAIN_BASE},ws:{action:"device/delete",response:null}}),a.set(u.listDeviceType,{http:{method:"GET",uri:"/devicetype",base:u.MAIN_BASE},ws:{action:"devicetype/list",response:{bodyKey:"deviceTypes"}}}),a.set(u.countDeviceType,{http:{method:"GET",uri:"/devicetype/count",base:u.MAIN_BASE},ws:{action:"devicetype/count",response:["count"]}}),a.set(u.getDeviceType,{http:{method:"GET",uri:"/devicetype/{deviceTypeId}",base:u.MAIN_BASE},ws:{action:"devicetype/get",response:{bodyKey:"deviceType"}}}),a.set(u.addDeviceType,{http:{method:"POST",uri:"/devicetype",base:u.MAIN_BASE},ws:{action:"devicetype/insert",bodyKey:"deviceType",response:{bodyKey:"deviceType"}}}),a.set(u.updateDeviceType,{http:{method:"PUT",uri:"/devicetype/{deviceTypeId}",base:u.MAIN_BASE},ws:{action:"devicetype/update",bodyKey:"deviceType",response:null}}),a.set(u.deleteDeviceType,{http:{method:"DELETE",uri:"/devicetype/{deviceTypeId}",base:u.MAIN_BASE},ws:{action:"devicetype/delete",response:null}}),a.set(u.listCommand,{http:{method:"GET",uri:"/device/{deviceId}/command",base:u.MAIN_BASE},ws:{action:"command/list",response:{bodyKey:"commands"}}}),a.set(u.getCommand,{http:{method:"GET",uri:"/device/{deviceId}/command/{commandId}",base:u.MAIN_BASE},ws:{action:"command/get",response:{bodyKey:"command"}}}),a.set(u.insertCommand,{http:{method:"POST",uri:"/device/{deviceId}/command",base:u.MAIN_BASE},ws:{action:"command/insert",bodyKey:"command",response:{bodyKey:"command"}}}),a.set(u.updateCommand,{http:{method:"PUT",uri:"/device/{deviceId}/command/{commandId}",base:u.MAIN_BASE},ws:{action:"command/update",bodyKey:"command",response:null}}),a.set(u.pollCommand,{http:{method:"GET",uri:"/device/{deviceId}/command/poll",base:u.MAIN_BASE}}),a.set(u.pollManyCommand,{http:{method:"GET",uri:"/device/command/poll",base:u.MAIN_BASE}}),a.set(u.waitCommand,{http:{method:"GET",uri:"/device/{deviceId}/command/{commandId}/poll",base:u.MAIN_BASE}}),a.set(u.subscribeCommand,{http:{method:"GET",uri:"/device/command/poll",base:u.MAIN_BASE,subscription:!0},ws:{action:"command/subscribe",response:null}}),a.set(u.unsubscribeCommand,{http:{unsubscription:!0},ws:{action:"command/unsubscribe",response:null}}),a.set(u.listNotification,{http:{method:"GET",uri:"/device/{deviceId}/notification",base:u.MAIN_BASE},ws:{action:"notification/list",response:{bodyKey:"notifications"}}}),a.set(u.getNotification,{http:{method:"GET",uri:"/device/{deviceId}/notification/{notificationId}",base:u.MAIN_BASE},ws:{action:"notification/get",response:{bodyKey:"notification"}}}),a.set(u.insertNotification,{http:{method:"POST",uri:"/device/{deviceId}/notification",base:u.MAIN_BASE},ws:{action:"notification/insert",bodyKey:"notification",response:{bodyKey:"notification"}}}),a.set(u.pollNotification,{http:{method:"GET",uri:"/device/{deviceId}/notification/poll",base:u.MAIN_BASE}}),a.set(u.pollManyNotification,{http:{method:"GET",uri:"/device/notification/poll",base:u.MAIN_BASE}}),a.set(u.subscribeNotification,{http:{method:"GET",uri:"/device/notification/poll",base:u.MAIN_BASE,subscription:!0},ws:{action:"notification/subscribe",response:null}}),a.set(u.unsubscribeNotification,{http:{unsubscription:!0},ws:{action:"notification/unsubscribe",response:null}}),a.set(u.listNetwork,{http:{method:"GET",uri:"/network",base:u.MAIN_BASE},ws:{action:"network/list",response:{bodyKey:"networks"}}}),a.set(u.countNetwork,{http:{method:"GET",uri:"/network/count",base:u.MAIN_BASE},ws:{action:"network/count",response:["count"]}}),a.set(u.getNetwork,{http:{method:"GET",uri:"/network/{networkId}",base:u.MAIN_BASE},ws:{action:"network/get",response:{bodyKey:"network"}}}),a.set(u.addNetwork,{http:{method:"POST",uri:"/network",base:u.MAIN_BASE},ws:{action:"network/insert",bodyKey:"network",response:{bodyKey:"network"}}}),a.set(u.updateNetwork,{http:{method:"PUT",uri:"/network/{networkId}",base:u.MAIN_BASE},ws:{action:"network/update",bodyKey:"network",response:null}}),a.set(u.deleteNetwork,{http:{method:"DELETE",uri:"/network/{networkId}",base:u.MAIN_BASE},ws:{action:"network/delete",response:null}}),a.set(u.listUser,{http:{method:"GET",uri:"/user",base:u.MAIN_BASE},ws:{action:"user/list",response:{bodyKey:"users"}}}),a.set(u.countUser,{http:{method:"GET",uri:"/user/count",base:u.MAIN_BASE},ws:{action:"user/count",response:["count"]}}),a.set(u.getUser,{http:{method:"GET",uri:"/user/{userId}",base:u.MAIN_BASE},ws:{action:"user/get",response:{bodyKey:"user"}}}),a.set(u.addUser,{http:{method:"POST",uri:"/user",base:u.MAIN_BASE},ws:{action:"user/insert",bodyKey:"user",response:{bodyKey:"user"}}}),a.set(u.updateUser,{http:{method:"PUT",uri:"/user/{userId}",base:u.MAIN_BASE},ws:{action:"user/update",bodyKey:"user",response:null}}),a.set(u.deleteUser,{http:{method:"DELETE",uri:"/user/{userId}",base:u.MAIN_BASE},ws:{action:"user/delete",response:null}}),a.set(u.getCurrentUser,{http:{method:"GET",uri:"/user/current",base:u.MAIN_BASE},ws:{action:"user/getCurrent",response:{bodyKey:"current"}}}),a.set(u.updateCurrentUser,{http:{method:"PUT",uri:"/user/current",base:u.MAIN_BASE},ws:{action:"user/updateCurrent",bodyKey:"user",response:null}}),a.set(u.getUserDeviceTypes,{http:{method:"GET",uri:"/user/{userId}/devicetype",base:u.MAIN_BASE}}),a.set(u.unassignAllDeviceTypes,{http:{method:"DELETE",uri:"/user/{userId}/devicetype/all",base:u.MAIN_BASE}}),a.set(u.assignAllDeviceTypes,{http:{method:"PUT",uri:"/user/{userId}/devicetype/all",base:u.MAIN_BASE}}),a.set(u.unassignDeviceType,{http:{method:"DELETE",uri:"/user/{userId}/devicetype/{deviceTypeId}",base:u.MAIN_BASE}}),a.set(u.getUserDeviceType,{http:{method:"GET",uri:"/user/{userId}/devicetype/{deviceTypeId}",base:u.MAIN_BASE}}),a.set(u.assignDeviceType,{http:{method:"PUT",uri:"/user/{userId}/devicetype/{deviceTypeId}",base:u.MAIN_BASE}}),a.set(u.getUserNetwork,{http:{method:"GET",uri:"/user/{userId}/network/{networkId}",base:u.MAIN_BASE},ws:{action:"user/getNetwork",response:{bodyKey:"network"}}}),a.set(u.assignNetwork,{http:{method:"PUT",uri:"/user/{userId}/network/{networkId}",base:u.MAIN_BASE},ws:{action:"user/assignNetwork",response:null}}),a.set(u.unassignNetwork,{http:{method:"DELETE",uri:"/user/{userId}/network/{networkId}",base:u.MAIN_BASE},ws:{action:"user/unassignNetwork",response:null}}),a.set(u.listPlugin,{http:{method:"GET",uri:"/plugin",base:u.PLUGIN_BASE}}),a.set(u.countPlugin,{http:{method:"GET",uri:"/plugin/count",base:u.PLUGIN_BASE}}),a.set(u.registerPlugin,{http:{method:"POST",uri:"/plugin",base:u.PLUGIN_BASE}}),a.set(u.deletePlugin,{http:{method:"DELETE",uri:"/plugin",base:u.PLUGIN_BASE}}),a.set(u.updatePlugin,{http:{method:"PUT",uri:"/plugin",base:u.PLUGIN_BASE}}),e.exports=u},{28:28,29:29,31:31,33:33}],31:[function(t,e,s){e.exports=class extends Error{constructor(){super(),this.message="No API selected.\nPlease, choose one according to documentation."}}},{}],33:[function(t,e,s){e.exports=class extends Error{constructor({key:t,transport:e}){super(),this.message=`${t} API is not supported by the ${e} transport.`}}},{}],29:[function(t,e,s){const i=t(69);e.exports=class{static normalizeResponse(t,e){let s={};if("error"===t.status)throw t.error;return e?e.length?e.forEach(e=>s[e]=t[e]):e.bodyKey&&(s=t[e.bodyKey]):null!==e&&(s=t),s}constructor({action:t,bodyKey:e}){this.action=t,this.bodyKey=e}build(t,e){const s=i.isObjectEmpty(t)&&!this.bodyKey?Object.assign({},e):Object.assign({},t);return s.action=this.action,e&&this.bodyKey&&(s[this.bodyKey]=e),s}}},{69:69}],28:[function(t,e,s){const i=t(11),r=t(9);class n{static buildUrl(t,e={}){const s=/[^{}]+(?=\})/g,n=s.test(t)?t.match(s):[],o={},a={};Object.keys(e).forEach(t=>{n.includes(t)?o[t]=e[t]:a[t]=e[t]});const u=r.stringify(a),c=i(t,o);return u?`${c}?${u}`:c}static normalizeResponse(t){if(t.error)throw t.message;return t}constructor({method:t,uri:e,base:s,subscription:i,unsubscription:r,noAuth:n}){const o=this;o.method=t,o.uri=e,o.base=s,o.subscription=i,o.unsubscription=r,o.noAuth=n}build(t,e){const s=this;let i;return!0===s.unsubscription?i={noAuth:s.noAuth,unsubscription:s.unsubscription,body:{subscriptionId:t.subscriptionId}}:(i={noAuth:s.noAuth,method:s.method,endpoint:n.buildUrl(s.uri,t),base:s.base,subscription:s.subscription},e&&(i.body=e)),i}}e.exports=n},{11:11,9:9}],35:[function(t,e,s){e.exports=class extends Error{constructor(t){super(),this.message=`Error using WebSocket.\nPlease, check server URL or try again later.\n${t.message}`}}},{}],36:[function(t,e,s){e.exports=class{toObject(){return console.warn('The method "toObject" should be implemented in nested classes'),{}}toString(){return JSON.stringify(this.toObject())}}},{}],68:[function(t,e,s){const i=t(3);e.exports=class extends i{authenticate(t){console.warn('Method "authenticate" should be implemented in nested classes')}send(){console.warn('Method "send" should be implemented in nested classes')}disconnect(){console.warn('Method "disconnect" should be implemented in nested classes')}}},{3:3}]},{},[1]);